(this.webpackJsonpreact_fn=this.webpackJsonpreact_fn||[]).push([[11],{310:function(e,a,t){},656:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(1),i=(t(310),t(311)),c=t(665),d=t(664);a.default=function(){var e=Object(o.f)();return Object(n.useEffect)((function(){var e=i.GraphObject.make,a=e(i.Diagram,"myDiagramDiv",{initialContentAlignment:i.Spot.Center,"undoManager.isEnabled":!0,layout:e(i.TreeLayout,{angle:90,layerSpacing:35})});a.nodeTemplate=e(i.Node,"Auto",{doubleClick:function(e,t){var r=t.part;if(null!==r){var o=r.data;a.startTransaction("add employee");var i={key:++n+"",parent:o.key,name:"\u65b0\u7684\u753b\u5e03",source:"",title:"",comments:""};a.model.addNodeData(i),a.commitTransaction("add employee"),function(e){var a={},t=[];for(var n in e)a[e[n].key]=e[n];for(var r in a)a[r].parent?(a[a[r].parent].children||(a[a[r].parent].children=[]),a[a[r].parent].children.push(a[r])):t.push(a[r]);console.log(t)}(JSON.parse(JSON.stringify(a.model.nodeDataArray)))}}},{background:"#44CCFF"},e(i.Picture,{margin:10,width:50,height:50,background:"red"},new i.Binding("source")),e(i.TextBlock,"\u7a7a\u767d",{margin:12,stroke:"white",font:"bold 16px sans-serif"},new i.Binding("text","name"))),a.nodeTemplate.contextMenu=e("ContextMenu",e("ContextMenuButton",e(i.TextBlock,"Vacate Position"),{click:function(e,t){var n=t.part.adornedPart;if(null!==n){var r=n.data;a.startTransaction("vacate"),a.model.setDataProperty(r,"name","(Vacant)"),a.model.setDataProperty(r,"comments",""),a.commitTransaction("vacate")}}}),e("ContextMenuButton",e(i.TextBlock,"\u79fb\u9664\u81ea\u8eab"),{click:function(e,t){var n=t.part.adornedPart;if(null!==n&&n.data.parent){a.startTransaction("reparent remove");for(var r=n.findTreeChildrenNodes();r.next();){var o=r.value;a.model.setParentKeyForNodeData(o.data,n.findTreeParentNode().data.key)}a.model.removeNodeData(n.data),a.commitTransaction("reparent remove")}else c.b.info("\u6839\u8282\u70b9\u4e0d\u80fd\u5220\u9664",1)}}),e("ContextMenuButton",e(i.TextBlock,"\u79fb\u9664\u81ea\u8eab\u53ca\u540e\u4ee3"),{click:function(e,t){var n=t.part.adornedPart;null!==n&&n.data.parent?(a.startTransaction("remove dept"),a.removeParts(n.findTreeParts()),a.commitTransaction("remove dept")):c.b.info("\u6839\u8282\u70b9\u4e0d\u80fd\u5220\u9664",1)}})),a.linkTemplate=e(i.Link,{routing:i.Link.Orthogonal,corner:5},e(i.Shape,{strokeWidth:3,stroke:"#840"}));var t=e(i.TreeModel);t.nodeDataArray=[{key:"1",name:"\u5c0f\u82b1",source:"img/cat1.png"},{key:"2",parent:"1",name:"\u5c0f\u9ec4",source:"img/cat2.png"},{key:"3",parent:"1",name:"\u5c0f\u7070",source:"img/cat3.png"},{key:"4",parent:"3",name:"\u5c0f\u767d",source:"img/cat4.png"},{key:"5",parent:"3",name:"\u5c0f\u55b5",source:"img/cat5.png"},{key:"6",parent:"2",name:"\u5c0f\u9ed1",source:"img/cat6.png"}],a.model=t;var n=6})),r.a.createElement("div",{className:"index"},r.a.createElement("div",{className:"layout",id:"myDiagramDiv"}),r.a.createElement(d.a,{onClick:function(){e.push("/2")},type:"primary"},"Button"))}}}]);